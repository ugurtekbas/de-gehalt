function enableButton(){$("#buttonCalculate").prop("disabled",!1),$("#buttonCalculate").html("Hesapla")}function calculate(e,t,r,l,a,o,n,s,u,i){var h="kalenderjahr="+r;"2"==t&&(e/=12);r="&monatsbrutto="+e.toFixed(2),t="&kvsatz="+i;u&&(t="&pkvbeitrag="+i);$.ajax({type:"GET",url:"https://almanya-maas.herokuapp.com/https://www.sparkasse.de/bin/servlets/sparkasse/netto?"+h+"&bgruppe=A"+r+("&steuerklasse="+a)+("&freibetrag="+l)+"&geldwertevorteil=0"+("&kinderfreibetrag="+s)+t+("&ksteuer="+o)+("&bundesland="+n),cache:!1,dataType:"json",contentType:"application/json; charset=utf-8",beforeSend:function(){$("#buttonCalculate").prop("disabled",!0),$("#buttonCalculate").html("HesaplanÄ±yor...")},complete:function(){enableButton()},error:function(t){enableButton()},success:function(t){fillResultTable(t,e),$("#divResultContainer").show(),$("#divResultContainer")[0].scrollIntoView({behavior:"smooth"})}})}function fillResultTable(t,e){$("#resultGrossMonthlySalary").html(t.bruttoeinkommen);var r=addDotsToFloat((12*e).toFixed(2).replace(".",","));$("#resultGrossYearlySalary").html(r),$("#resultMonthlyPension").html(t.rentenversicherung);var l=formatStringToFloat(t.rentenversicherung);$("#resultYearlyPension").html(l),$("#resultMonthlyUnemployment").html(t.arbeitslosenversicherung);var a=formatStringToFloat(t.arbeitslosenversicherung);$("#resultYearlyUnemployment").html(a),$("#resultMonthlyNursing").html(t.pflegeversicherung);var o=formatStringToFloat(t.pflegeversicherung);$("#resultYearlyNursing").html(o),$("#resultMonthlyHealth").html(t.krankenversicherung);e=formatStringToFloat(t.krankenversicherung);$("#resultYearlyHealth").html(e);r=getSumOfStringFloats([t.rentenversicherung,t.arbeitslosenversicherung,t.pflegeversicherung,t.krankenversicherung]);$("#resultMonthlyTotalSocial").html(r);l=getSumOfStringFloats([l,a,o,e]);$("#resultYearlyTotalSocial").html(l),$("#resultMonthlyIncomeTax").html(t.lohnsteuer);a=formatStringToFloat(t.lohnsteuer);$("#resultYearlyIncomeTax").html(a),$("#resultMonthlySolidarityTax").html(t.soli);o=formatStringToFloat(t.soli);$("#resultYearlySolidarityTax").html(o),$("#resultMonthlyChurchTax").html(t.kirchensteuer);e=formatStringToFloat(t.kirchensteuer);$("#resultYearlyChurchTax").html(e);l=getSumOfStringFloats([t.lohnsteuer,t.soli,t.kirchensteuer]);$("#resultMonthlyTotalTax").html(l);e=getSumOfStringFloats([a,o,e]);$("#resultYearlyTotalTax").html(e),$("#resultMonthlyNetSalary").html(t.monatsnetto);t=formatStringToFloat(t.monatsnetto);$("#resultYearlyNetSalary").html(t)}function addDotsToFloat(t){return t.replace(/\B(?=(\d{3})+(?!\d))/g,".")}function formatStringToFloat(t){t=t.replace(".","").replace(",",".");const e=parseFloat(12*t).toFixed(2);return addDotsToFloat(e.toString().replace(".",","))}function getFloat(t){t=t.replace(".","").replace(",",".");return parseFloat(t)}function getSumOfStringFloats(t){const e=t.map(t=>getFloat(t)).reduce((t,e)=>t+e,0);return addDotsToFloat(e.toFixed(2).replace(".",","))}$("#divResultContainer").hide();