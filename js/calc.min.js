function enableButton(){$("#buttonCalculate").prop("disabled",!1),$("#buttonCalculate").html("Hesapla")}function calculate(t,e,r,l,a,o,n,s,u,i){r="kalenderjahr="+r;"2"==e&&(t/=12);e="&monatsbrutto="+t.toFixed(2),t="&kvsatz="+i;u&&(t="&pkvbeitrag="+i);$.ajax({type:"GET",url:"https://almanya-maas.herokuapp.com/https://www.sparkasse.de/bin/servlets/sparkasse/netto?"+r+"&bgruppe=A"+e+("&steuerklasse="+a)+("&freibetrag="+l)+"&geldwertevorteil=0"+("&kinderfreibetrag="+s)+t+("&ksteuer="+o)+("&bundesland="+n),cache:!1,dataType:"json",contentType:"application/json; charset=utf-8",beforeSend:function(){$("#buttonCalculate").prop("disabled",!0),$("#buttonCalculate").html("HesaplanÄ±yor...")},complete:function(){enableButton()},error:function(t){enableButton()},success:function(t){fillResultTable(t),$("#divResultContainer").show(),$("#divResultContainer")[0].scrollIntoView({behavior:"smooth"})}})}function fillResultTable(t){$("#resultGrossMonthlySalary").html(t.bruttoeinkommen);var e=formatStringToFloat(t.bruttoeinkommen);$("#resultGrossYearlySalary").html(e),$("#resultMonthlyPension").html(t.rentenversicherung);var r=formatStringToFloat(t.rentenversicherung);$("#resultYearlyPension").html(r),$("#resultMonthlyUnemployment").html(t.arbeitslosenversicherung);var l=formatStringToFloat(t.arbeitslosenversicherung);$("#resultYearlyUnemployment").html(l),$("#resultMonthlyNursing").html(t.pflegeversicherung);var a=formatStringToFloat(t.pflegeversicherung);$("#resultYearlyNursing").html(a),$("#resultMonthlyHealth").html(t.krankenversicherung);var o=formatStringToFloat(t.krankenversicherung);$("#resultYearlyHealth").html(o);e=getSumOfStringFloats([t.rentenversicherung,t.arbeitslosenversicherung,t.pflegeversicherung,t.krankenversicherung]);$("#resultMonthlyTotalSocial").html(e);r=getSumOfStringFloats([r,l,a,o]);$("#resultYearlyTotalSocial").html(r),$("#resultMonthlyIncomeTax").html(t.lohnsteuer);l=formatStringToFloat(t.lohnsteuer);$("#resultYearlyIncomeTax").html(l),$("#resultMonthlySolidarityTax").html(t.soli);a=formatStringToFloat(t.soli);$("#resultYearlySolidarityTax").html(a),$("#resultMonthlyChurchTax").html(t.kirchensteuer);o=formatStringToFloat(t.kirchensteuer);$("#resultYearlyChurchTax").html(o);r=getSumOfStringFloats([t.lohnsteuer,t.soli,t.kirchensteuer]);$("#resultMonthlyTotalTax").html(r);o=getSumOfStringFloats([l,a,o]);$("#resultYearlyTotalTax").html(o),$("#resultMonthlyNetSalary").html(t.monatsnetto);t=formatStringToFloat(t.monatsnetto);$("#resultYearlyNetSalary").html(t)}function addDotsToFloat(t){return t.replace(/\B(?=(\d{3})+(?!\d))/g,".")}function formatStringToFloat(t){t=t.replace(".","").replace(",",".");const e=parseFloat(12*t).toFixed(2);return addDotsToFloat(e.toString().replace(".",","))}function getFloat(t){t=t.replace(".","").replace(",",".");return parseFloat(t)}function getSumOfStringFloats(t){const e=t.map(t=>getFloat(t)).reduce((t,e)=>t+e,0);return addDotsToFloat(e.toFixed(2))}$("#divResultContainer").hide();